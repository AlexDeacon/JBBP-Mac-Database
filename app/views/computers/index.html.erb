<!-- <h1>Computers -  <%= params[:view] ?  "(Detailed View)" : "(Summary View)"  %></h1> -->
<h1>Computers</h1>

<!-- <p> <%= link_to "Toggle View<tbd>", :view => "detailed" %></p> -->

<table class="full" class="pretty">
 <caption style="text-align:left"><%= @computers.count %> Computers in this view.</caption>
  <thead>
    <tr>
      <th scope="col" colspan="9">
	<p><strong> Filter: </strong>
	  <%= link_to "All", :filter => "All" %> | 
	  <%= link_to "Good", :filter => "Good" %> | 
	  <%= link_to "Minor Issues", :filter => "Minor Issues" %> | 
	  <%= link_to "Not Working", :filter => "Not Working" %> | 
	  <%= link_to "Retired", :filter => "Retired" %>
	</p>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <th colspan="5">Computer Information</th>
      <th colspan="2">Battery Information</th>
      <th rowspan="2">Actions</th>
    </tr>
    <tr>
      <th><%= sortable "computer_jbbp_id", "JBBP ID" %></th>
      <th><%= sortable "computer_name_en", "Name (English)" %></th>
      <th><%= sortable "computer_name_jp", "Name (Japanese)" %></th>
      <th><%= sortable "computer_model", "Model" %></th>
      <th><%= sortable "computer_status", "Computer Status" %></th>
      <th>JBBP ID</th>
      <th>Battery Status</th>
   </tr>
    <% for computer in @computers %>
    <tr>
     <td><%= computer.computer_jbbp_id %></td>
      <td><%= computer.computer_name_en %></td>
      <td><%= computer.computer_name_jp %></td>
      <td><%= computer.computer_model %></td>
      <td><strong><%= format_status computer.computer_status %></strong></td>
      <td><%= create_battery_link computer.id %></td>
      <td><strong><%= format_status get_battery_status computer.id %></strong></td>
      <td class="list-actions">
	<%= link_to 'Show', computer %> |
	<%= link_to 'Edit', edit_computer_path(computer) %> |
	<%= link_to 'Delete', computer, :confirm => 'Are you sure?',
	:method => :delete %>
      </td>
    </tr>
    <% end %>
      </tbody>
  </table>
  <br />
  <%= link_to 'New Computer', new_computer_path %>
